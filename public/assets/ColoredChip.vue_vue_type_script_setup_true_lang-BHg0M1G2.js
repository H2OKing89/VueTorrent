import{y as L,a as S,o as U,Y as E,Z as H,G as I,B as _,$ as A,a0 as O,h as Z,e as q,a1 as j,i as z,j as G,k as J,V as Q,a2 as X,a3 as Y,n as W,p as R,q as x,t as ee,a4 as ae,a5 as N,a6 as te}from"./index-DsM7JRKN.js";import{f as $,a1 as oe,J as n,T as c,K as t,M as o,y as le,U as v,n as l,P as V,Q as f,u as g,F as M,Z as F,a2 as se,a3 as ne,a4 as K,b as B,r as re,e as k,O as de,S as ue,R as ie,V as me,X as ce,N as ye}from"./vue-CNBHa2kM.js";import{V as fe}from"./VForm-Cp2U28oH.js";import{b as pe}from"./vuetify-BUiigP1R.js";const he={class:"d-flex"},ve={key:2},ke={key:3},Ve=$({__name:"RightClickMenuEntry",props:{entryData:{}},setup(h){const a=h,m=H(O?"Meta":"Control",{initial:!1});function u(){a.entryData.action?.()}return(e,r)=>{const p=oe("RightClickMenuEntry",!0);return e.entryData.hidden?c("",!0):(t(),n(L,{key:0,class:"px-3",disabled:e.entryData.disabled,onClick:u},{default:o(()=>[le("div",he,[e.entryData.disabled&&e.entryData.disabledIcon?(t(),n(S,{key:0,class:"mr-2"},{default:o(()=>[V(f(e.entryData.disabledIcon),1)]),_:1})):e.entryData.icon?(t(),n(S,{key:1,class:"mr-2"},{default:o(()=>[V(f(e.entryData.icon),1)]),_:1})):c("",!0),e.entryData.disabled&&e.entryData.disabledText?(t(),v("span",ve,f(e.entryData.disabledText),1)):(t(),v("span",ke,f(e.entryData.text),1)),l(U),!e.entryData.disabled&&e.entryData.children?(t(),n(S,{key:4},{default:o(()=>r[0]||(r[0]=[V(" mdi-chevron-right ",-1)])),_:1,__:[0]})):c("",!0)]),e.entryData.children?(t(),n(E,{key:0,activator:"parent","open-on-hover":"","open-on-click":"","close-on-content-click":!g(m),"close-delay":"10","open-delay":"0",location:"right"},{default:o(()=>[l(I,null,{default:o(()=>[e.entryData.slots?.top?(t(),v(M,{key:0},[(t(!0),v(M,null,F(e.entryData.slots.top,(d,i)=>(t(),n(p,{key:i,"entry-data":d},null,8,["entry-data"]))),128)),l(_,{thickness:"3"})],64)):c("",!0),l(A,{items:e.entryData.children,"item-height":"48",renderless:""},{default:o(({item:d})=>[l(p,{"entry-data":d},null,8,["entry-data"])]),_:1},8,["items"]),e.entryData.slots?.bottom?(t(),v(M,{key:1},[l(_,{thickness:"3"}),(t(!0),v(M,null,F(e.entryData.slots.bottom,(d,i)=>(t(),n(p,{key:i,"entry-data":d},null,8,["entry-data"]))),128))],64)):c("",!0)]),_:1})]),_:1},8,["close-on-content-click"])):c("",!0)]),_:1},8,["disabled"]))}}}),Te=$({__name:"RightClickMenu",props:se({menuData:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(h){const a=ne(h,"modelValue"),m=H(O?"Meta":"Control",{initial:!1});return(u,e)=>a.value?(t(),n(E,{key:0,modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value=r),activator:"parent","close-on-content-click":!g(m),transition:"slide-y-transition",class:"text-noselect","scroll-strategy":"none"},{default:o(()=>[l(I,null,{default:o(()=>[K(u.$slots,"top"),u.$slots.top?(t(),n(_,{key:0,thickness:"3"})):c("",!0),l(A,{items:u.menuData,"item-height":"48",renderless:""},{default:o(({item:r})=>[l(Ve,{"entry-data":r},null,8,["entry-data"])]),_:1},8,["items"]),u.$slots.bottom?(t(),n(_,{key:1,thickness:"3"})):c("",!0),K(u.$slots,"bottom")]),_:3})]),_:3},8,["modelValue","close-on-content-click"])):c("",!0)}}),we=$({__name:"MoveTorrentDialog",props:{guid:{},hashes:{},mode:{}},setup(h){const a=h,{isOpened:m}=Z(a.guid),{t:u}=q(),e=j(),r=B(),p=B(),d=B(!1),i=re({newPath:""}),P=[s=>!!s||u("dialogs.moveTorrent.required")],T=k(()=>a.hashes.map(e.getTorrentByHash)),C=k(()=>{switch(a.mode){case"dl":return T.value[0]?.download_path;case"save":default:return T.value[0]?.savePath}});async function b(){await r.value?.validate(),d.value&&(await e.toggleAutoTmm(a.hashes,!1),await e.moveTorrents(a.mode,a.hashes,i.newPath),p.value?.saveValueToHistory(),w())}function w(){m.value=!1}return de(()=>{i.newPath=C.value||""}),(s,y)=>(t(),n(x,{modelValue:g(m),"onUpdate:modelValue":y[3]||(y[3]=D=>me(m)?m.value=D:null)},{default:o(()=>[l(z,null,{default:o(()=>[l(G,null,{default:o(()=>[V(f(s.$t(`dialogs.moveTorrent.${s.mode}.title`)),1)]),_:1}),l(J,null,{default:o(()=>[l(g(fe),{ref_key:"form",ref:r,modelValue:d.value,"onUpdate:modelValue":y[1]||(y[1]=D=>d.value=D),onSubmit:y[2]||(y[2]=ue(()=>{},["prevent"]))},{default:o(()=>[C.value?(t(),n(Q,{key:0,"model-value":C.value,disabled:"",label:s.$t("dialogs.moveTorrent.oldPath")},null,8,["model-value","label"])):c("",!0),l(X,{ref_key:"field",ref:p,modelValue:i.newPath,"onUpdate:modelValue":y[0]||(y[0]=D=>i.newPath=D),"history-key":g(Y).TORRENT_PATH,rules:P,autofocus:"",label:s.$t("dialogs.moveTorrent.newPath"),onKeydown:ie(b,["enter"])},null,8,["modelValue","history-key","label"])]),_:1},8,["modelValue"])]),_:1}),l(W,null,{default:o(()=>[l(U),l(R,{color:"error",onClick:w},{default:o(()=>[V(f(s.$t("common.cancel")),1)]),_:1}),l(R,{color:"accent",disabled:!d.value,onClick:b},{default:o(()=>[V(f(s.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Me=$({__name:"ColoredChip",props:{defaultColor:{},disabled:{type:Boolean,default:!1},disabledValue:{},value:{}},setup(h){const a=h,{t:m}=q(),{current:u}=pe(),e=ee(),{enableHashColors:r,hideColoredChip:p}=ce(e);function d(s){return u.value.colors[s]??s}function i(s){return P.value?s.darken(30):s}const P=k(()=>e.theme.mode===ae.DARK&&e.theme.dark==="dark-oled"),T=k(()=>a.disabled||!r.value?a.defaultColor:N(a.value,i)),C=k(()=>a.disabled||!r.value?d(a.defaultColor):N(a.value,i)),b=k(()=>a.disabled?a.disabledValue||a.value||m("common.none"):a.value),w=k(()=>!p.value);return(s,y)=>w.value?(t(),n(te,{key:0,color:T.value,variant:"flat"},{default:o(()=>[V(f(b.value),1)]),_:1},8,["color"])):(t(),v("div",{key:1,class:"text-no-wrap",style:ye(`color: ${C.value}`)},f(b.value),5))}});export{Te as _,we as a,Me as b};
