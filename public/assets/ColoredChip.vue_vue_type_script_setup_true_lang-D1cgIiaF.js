import{U as K,s as U,a as S,j as E,W as H,C as L,w as M,X as O,Y as A,c as X,u as q,Z as Y,d as j,e as z,f as J,g as Q,V as W,M as Z,N as G,i as x,k as R,l as ee,o as ae,$ as N,a0 as te}from"./index-D6FwqIPR.js";import{e as $,$ as oe,I as n,R as m,J as t,L as o,x as le,S as V,m as l,N as p,O as c,u as D,F as _,X as F,a0 as se,a1 as ne,a2 as I,a as B,r as re,d as k,M as ue,Q as ie,P as de,T as me,V as ce,Y as ye}from"./vue-BSXMEaVB.js";import{u as fe}from"./vuetify-D33NPX2F.js";const pe={class:"d-flex"},he={key:2},ve={key:3},Ve=$({__name:"RightClickMenuEntry",props:{entryData:{}},setup(h){const a=h,i=K(A?"Meta":"Control",{initial:!1}),d=()=>{a.entryData.action&&a.entryData.action()};return(e,r)=>{const f=oe("RightClickMenuEntry",!0);return e.entryData.hidden?m("",!0):(t(),n(U,{key:0,class:"px-3",disabled:e.entryData.disabled,onClick:d},{default:o(()=>[le("div",pe,[e.entryData.disabled&&e.entryData.disabledIcon?(t(),n(S,{key:0,class:"mr-2"},{default:o(()=>[p(c(e.entryData.disabledIcon),1)]),_:1})):e.entryData.icon?(t(),n(S,{key:1,class:"mr-2"},{default:o(()=>[p(c(e.entryData.icon),1)]),_:1})):m("",!0),e.entryData.disabled&&e.entryData.disabledText?(t(),V("span",he,c(e.entryData.disabledText),1)):(t(),V("span",ve,c(e.entryData.text),1)),l(E),!e.entryData.disabled&&e.entryData.children?(t(),n(S,{key:4},{default:o(()=>r[0]||(r[0]=[p("mdi-chevron-right")])),_:1,__:[0]})):m("",!0)]),e.entryData.children?(t(),n(H,{key:0,activator:"parent","open-on-hover":"","open-on-click":"","close-on-content-click":!D(i),"close-delay":"10","open-delay":"0",location:"right"},{default:o(()=>[l(L,null,{default:o(()=>[e.entryData.slots?.top?(t(),V(_,{key:0},[(t(!0),V(_,null,F(e.entryData.slots.top,u=>(t(),n(f,{entryData:u},null,8,["entryData"]))),256)),l(M,{thickness:"3"})],64)):m("",!0),l(O,{items:e.entryData.children,"item-height":"48",renderless:""},{default:o(({item:u})=>[l(f,{entryData:u},null,8,["entryData"])]),_:1},8,["items"]),e.entryData.slots?.bottom?(t(),V(_,{key:1},[l(M,{thickness:"3"}),(t(!0),V(_,null,F(e.entryData.slots.bottom,u=>(t(),n(f,{entryData:u},null,8,["entryData"]))),256))],64)):m("",!0)]),_:1})]),_:1},8,["close-on-content-click"])):m("",!0)]),_:1},8,["disabled"]))}}}),be=$({__name:"RightClickMenu",props:se({menuData:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(h){const a=ne(h,"modelValue"),i=K(A?"Meta":"Control",{initial:!1});return(d,e)=>a.value?(t(),n(H,{key:0,modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value=r),activator:"parent","close-on-content-click":!D(i),transition:"slide-y-transition","scroll-strategy":"none"},{default:o(()=>[l(L,null,{default:o(()=>[l(U,null,{default:o(()=>[p("close-on-content-click: "+c(!D(i)),1)]),_:1}),I(d.$slots,"top"),d.$slots.top?(t(),n(M,{key:0,thickness:"3"})):m("",!0),l(O,{items:d.menuData,"item-height":"48",renderless:""},{default:o(({item:r})=>[l(Ve,{entryData:r},null,8,["entryData"])]),_:1},8,["items"]),d.$slots.bottom?(t(),n(M,{key:1,thickness:"3"})):m("",!0),I(d.$slots,"bottom")]),_:3})]),_:3},8,["modelValue","close-on-content-click"])):m("",!0)}}),ge=$({__name:"MoveTorrentDialog",props:{guid:{},hashes:{},mode:{}},setup(h){const a=h,{isOpened:i}=X(a.guid),{t:d}=q(),e=Y(),r=B(),f=B(),u=B(!1),v=re({newPath:""}),P=[s=>!!s||d("dialogs.moveTorrent.required")],T=k(()=>a.hashes.map(e.getTorrentByHash)),C=k(()=>{switch(a.mode){case"dl":return T.value[0]?.download_path;case"save":return T.value[0]?.savePath}});async function b(){await r.value?.validate(),u.value&&(await e.toggleAutoTmm(a.hashes,!1),await e.moveTorrents(a.mode,a.hashes,v.newPath),f.value?.saveValueToHistory(),w())}const w=()=>{i.value=!1};return ue(()=>{v.newPath=C.value||""}),(s,y)=>(t(),n(ee,{modelValue:D(i),"onUpdate:modelValue":y[3]||(y[3]=g=>me(i)?i.value=g:null)},{default:o(()=>[l(j,null,{default:o(()=>[l(z,null,{default:o(()=>[p(c(s.$t(`dialogs.moveTorrent.${s.mode}.title`)),1)]),_:1}),l(J,null,{default:o(()=>[l(D(Q),{modelValue:u.value,"onUpdate:modelValue":y[1]||(y[1]=g=>u.value=g),ref_key:"form",ref:r,onSubmit:y[2]||(y[2]=ie(()=>{},["prevent"]))},{default:o(()=>[C.value?(t(),n(W,{key:0,"model-value":C.value,disabled:"",label:s.$t("dialogs.moveTorrent.oldPath")},null,8,["model-value","label"])):m("",!0),l(Z,{modelValue:v.newPath,"onUpdate:modelValue":y[0]||(y[0]=g=>v.newPath=g),historyKey:D(G).TORRENT_PATH,ref_key:"field",ref:f,rules:P,autofocus:"",label:s.$t("dialogs.moveTorrent.newPath"),onKeydown:de(b,["enter"])},null,8,["modelValue","historyKey","label"])]),_:1},8,["modelValue"])]),_:1}),l(x,null,{default:o(()=>[l(E),l(R,{color:"error",onClick:w},{default:o(()=>[p(c(s.$t("common.cancel")),1)]),_:1}),l(R,{color:"accent",disabled:!u.value,onClick:b},{default:o(()=>[p(c(s.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Te=$({__name:"ColoredChip",props:{defaultColor:{},disabled:{type:Boolean,default:!1},disabledValue:{},value:{}},setup(h){const a=h,{t:i}=q(),{current:d}=fe(),e=ae(),{enableHashColors:r,hideColoredChip:f}=ce(e);function u(s){return d.value.colors[s]??s}function v(s){return P.value?s.darken(30):s}const P=k(()=>e.theme.mode==="dark"&&e.theme.dark==="dark-oled"),T=k(()=>a.disabled||!r.value?a.defaultColor:N(a.value,v)),C=k(()=>a.disabled||!r.value?u(a.defaultColor):N(a.value,v)),b=k(()=>a.disabled?a.disabledValue||a.value||i("common.none"):a.value),w=k(()=>!f.value);return(s,y)=>w.value?(t(),n(te,{key:0,color:T.value,variant:"flat"},{default:o(()=>[p(c(b.value),1)]),_:1},8,["color"])):(t(),V("div",{key:1,class:"text-no-wrap",style:ye(`color: ${C.value}`)},c(b.value),5))}});export{be as _,ge as a,Te as b};
